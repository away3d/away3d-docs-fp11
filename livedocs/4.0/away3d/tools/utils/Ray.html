<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><!-- saved from url=(0014)about:internet --><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link rel="stylesheet" href="../../../style.css" type="text/css" media="screen"><link rel="stylesheet" href="../../../print.css" type="text/css" media="print"><link rel="stylesheet" href="../../../override.css" type="text/css"><meta name="keywords" content="Ray,away3d.tools.utils.Ray,BACK,BOTTOM,CYLINDRICAL_X,CYLINDRICAL_Y,CYLINDRICAL_Z,FRONT,LEFT,PLANE_XY,PLANE_XZ,PLANE_ZY,RIGHT,SPHERICAL,TOP,bitmapData,debug,depth,dir,height,maxX,maxY,maxZ,minX,minY,minZ,object3d,objectSpace,offsetCenter,offsetMouseCenter,offsetX,offsetY,orig,plane,planeNormal,planeObject3d,planePosition,scaleX,scaleY,unit,useRotations,width,addColorEvent,getBestPowerOf2,getColorAt,getIntersect,getMeshBounds,getObjectContainerBounds,getRayToSphereIntersection,getRayToTriangleIntersection,getUVs,getVerticesVectorBounds,intersectsSphere,isBitmapDataValid,isDimensionValid,isPowerOfTwo,plotAt,project,read,removeColorEvent,snapMesh,snapObject,snapVertices,updateDrag"><title>away3d.tools.utils.Ray</title></head><body><script language="javascript" type="text/javascript" src="../../../asdoc.js"></script><script language="javascript" type="text/javascript" src="../../../help.js"></script><script language="javascript" type="text/javascript" src="../../../cookies.js"></script><script language="javascript" type="text/javascript"><!--
				asdocTitle = 'Ray - Away3D Documentation';
				var baseRef = '../../../';
				window.onload = configPage;
			--></script>
<script type="text/javascript">
			scrollToNameAnchor();
		</script><table class="titleTable" cellpadding="0" cellspacing="0" id="titleTable" style="display:none"><tr><td class="titleTableTitle" align="left">Away3D Documentation</td><td class="titleTableTopNav" align="right"><a href="../../../package-summary.html" onclick="loadClassListFrame('../../../all-classes.html')">All Packages</a>&nbsp;|&nbsp;<a href="../../../class-summary.html" onclick="loadClassListFrame('../../../all-classes.html')">All Classes</a>&nbsp;|&nbsp;<a href="../../../all-index-A.html" onclick="loadClassListFrame('../../../index-list.html')">Index</a>&nbsp;|&nbsp;<a id="framesLink1" href="../../../index.html?away3d/tools/utils/Ray.html&amp;away3d/tools/utils/class-list.html">Frames</a><a id="noFramesLink1" style="display:none" href="" onclick="parent.location=document.location"> No Frames </a></td><td class="titleTableLogo" align="right" rowspan="3"><img src="../../../images/logo.jpg" class="logoImage" alt=" Adobe Logo " title=" Adobe Logo "></td></tr><tr class="titleTableRow2"><td class="titleTableSubTitle" id="subTitle" align="left">Ray</td><td class="titleTableSubNav" id="subNav" align="right"><a href="#propertySummary">Properties</a>&nbsp;| <a href="#methodSummary">Methods</a></td></tr><tr class="titleTableRow3"><td colspan="3">&nbsp;</td></tr></table><script language="javascript" type="text/javascript" xml:space="preserve">
				<!--
				
					if (!isEclipse() || window.name != ECLIPSE_FRAME_NAME) {titleBar_setSubTitle("Ray"); titleBar_setSubNav(false,true,false,false,false,false,false,false,true,false,false	,false,false,false,false,false);}	
				-->
			</script><div xmlns:fn="http://www.w3.org/2005/xpath-functions" class="MainContent"><table class="classHeaderTable" cellpadding="0" cellspacing="0"><tr><td class="classHeaderTableLabel">Package</td><td><a href="package-detail.html" onclick="javascript:loadClassListFrame('class-list.html')">away3d.tools.utils</a></td></tr><tr><td class="classHeaderTableLabel">Class</td><td class="classSignature">public  class  Ray</td></tr><tr><td class="classHeaderTableLabel">Inheritance</td><td class="inheritanceList">Ray  <img src="../../../images/inherit-arrow.gif" title="Inheritance" alt="Inheritance" class="inheritArrow"> Object</td></tr></table><p></p><p></p><p></p><br/><hr></div><a name="propertySummary"></a><div class="summarySection"><div class="summaryTableTitle">Public Properties</div><table cellspacing="0" cellpadding="3" class="summaryTable " id="summaryTableProperty"><tr><th>&nbsp;</th><th colspan="2">Property</th><th class="summaryTableOwnerCol">Defined By</th></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a href="#dir" class="signatureLink">dir</a> : Vector3D<div class="summaryTableDescription">
		Defines the directional vector of the Ray object
		</div></td><td class="summaryTableOwnerCol">Ray</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a href="#orig" class="signatureLink">orig</a> : Vector3D<div class="summaryTableDescription">
		Defines the origin point of the Ray object
		</div></td><td class="summaryTableOwnerCol">Ray</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a href="#planeNormal" class="signatureLink">planeNormal</a> : Vector3D<div class="summaryTableDescription">[read-only] 
		Defines the directional normal of the Ray object
		</div></td><td class="summaryTableOwnerCol">Ray</td></tr></table></div><a name="methodSummary"></a><div class="summarySection"><div class="summaryTableTitle">Public Methods </div><table cellspacing="0" cellpadding="3" class="summaryTable " id="summaryTableMethod"><tr><th>&nbsp;</th><th colspan="2">Method</th><th class="summaryTableOwnerCol">Defined By</th></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#Ray()" class="signatureLink">Ray</a>()</div><div class="summaryTableDescription"></div></td><td class="summaryTableOwnerCol">Ray</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#getRayToSphereIntersection()" class="signatureLink">getRayToSphereIntersection</a>(pOrig:Vector3D, dir:Vector3D, sPos:Vector3D, radius:Number, bNearest:Boolean = true, bNormal:Boolean = false, outVector3D:Vector3D = null):Vector3D</div><div class="summaryTableDescription">
		Returns a Vector3D where the ray intersects a sphere.</div></td><td class="summaryTableOwnerCol">Ray</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#getRayToTriangleIntersection()" class="signatureLink">getRayToTriangleIntersection</a>(p0:Vector3D, p1:Vector3D, v0:Vector3D, v1:Vector3D, v2:Vector3D, outVector3D:Vector3D = null):Vector3D</div><div class="summaryTableDescription">
		Returns a Vector3D where the ray intersects a plane inside a triangle
		Returns null if no hit is found.</div></td><td class="summaryTableOwnerCol">Ray</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#intersectsSphere()" class="signatureLink">intersectsSphere</a>(pOrig:Vector3D, dir:Vector3D, sPos:Vector3D, radius:Number):Boolean</div><div class="summaryTableDescription">
		Checks if a ray intersects a sphere.</div></td><td class="summaryTableOwnerCol">Ray</td></tr></table></div><script language="javascript" type="text/javascript"><!--
										showHideInherited();
										--></script><div class="MainContent"><div class="detailSectionHeader">Property Detail</div><a name="propertyDetail"></a><a name="dir"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">dir</td><td class="detailHeaderType">property</td></tr></table><div class="detailBody"><code>dir:Vector3D</code><p></p><p></p><p>
		Defines the directional vector of the Ray object
		</p><br/><span class="label"> Implementation </span><br/><code>&nbsp;&nbsp;&nbsp;&nbsp;public function get dir():Vector3D</code><br/><code>&nbsp;&nbsp;&nbsp;&nbsp;public function set dir(value:Vector3D):void</code><br/></div><a name="propertyDetail"></a><a name="orig"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">orig</td><td class="detailHeaderType">property</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code>orig:Vector3D</code><p></p><p></p><p>
		Defines the origin point of the Ray object
		</p><br/><span class="label"> Implementation </span><br/><code>&nbsp;&nbsp;&nbsp;&nbsp;public function get orig():Vector3D</code><br/><code>&nbsp;&nbsp;&nbsp;&nbsp;public function set orig(value:Vector3D):void</code><br/></div><a name="propertyDetail"></a><a name="planeNormal"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">planeNormal</td><td class="detailHeaderType">property</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code>planeNormal:Vector3D</code>&nbsp;&nbsp;[read-only] <p></p><p></p><p>
		Defines the directional normal of the Ray object
		</p><br/><span class="label"> Implementation </span><br/><code>&nbsp;&nbsp;&nbsp;&nbsp;public function get planeNormal():Vector3D</code><br/></div><a name="constructorDetail"></a><div class="detailSectionHeader">Constructor Detail</div><a name="Ray()"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">Ray</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">Constructor</td></tr></table><div class="detailBody"><code>public function Ray()</code><p></p><br/><br/></div><a name="methodDetail"></a><div class="detailSectionHeader">Method Detail</div><a name="getRayToSphereIntersection()"></a><a name="getRayToSphereIntersection(flash.geom.Vector3D,flash.geom.Vector3D,flash.geom.Vector3D,Number,Boolean,Boolean,flash.geom.Vector3D)"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">getRayToSphereIntersection</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td></tr></table><div class="detailBody"><code> public function getRayToSphereIntersection(pOrig:Vector3D, dir:Vector3D, sPos:Vector3D, radius:Number, bNearest:Boolean = true, bNormal:Boolean = false, outVector3D:Vector3D = null):Vector3D</code><p></p><p></p><p>
		Returns a Vector3D where the ray intersects a sphere. Return null if the ray misses the sphere
		
		param		pOrig			Vector3D. 		The origin of the ray.
		param		dir				Vector3D. 		The direction of the ray.
		param		sPos			Vector3D. 		The position of the sphere.
		param		radius		Number.		The radius of the sphere.
		param		bNearest	[optional] Boolean. If the ray traverses the sphere and if true the returned hit is the nearest to ray origin. Default is true.
		param		bNormal		[optional] Boolean. If the returned vector is the normal of the hitpoint. Default is false.
				</p><p><span class="label"> Parameters </span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20px"></td><td><code><span class="label">pOrig</span>:Vector3D</code></td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">dir</span>:Vector3D</code></td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">sPos</span>:Vector3D</code></td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">radius</span>:Number</code></td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">bNearest</span>:Boolean</code> (default = <code>true</code>)<code></code></td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">bNormal</span>:Boolean</code> (default = <code>false</code>)<code></code></td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">outVector3D</span>:Vector3D</code> (default = <code>null</code>)<code></code></td></tr></table></p><p></p><span class="label">Returns</span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20"></td><td><code>Vector3D</code> &mdash; Vector3D	The intersection vector3D or the normal vector3D of the hitpoint. Default is false.
				example of a ray triggered from mouse
			var pMouse:Vector3D = _view.unproject(_view.mouseX, _view.mouseY);
			var cam:Vector3D = _view.camera.position;
			var dir:Vector3D = new Vector3D( pMouse.x-cam.x,  pMouse.y-cam.y, pMouse.z-cam.z);
			dir.normalize();
			
			var spherePosition:Vector3D = new Vector3D(200, 200, 200);
				 
			//hittest
			trace("Ray intersects sphere :"+ _ray.intersectsSphere(pMouse, dir, spherePosition, 500) );
			
			var sintersect:Vector3D = _ray.getRayToSphereIntersection(pMouse, dir, spherePosition, 500, true, false);
			if sintersect == null no hit, else sintersect = intersection vector3d or the normal of the intersection
		</td></tr></table></div><a name="getRayToTriangleIntersection()"></a><a name="getRayToTriangleIntersection(flash.geom.Vector3D,flash.geom.Vector3D,flash.geom.Vector3D,flash.geom.Vector3D,flash.geom.Vector3D,flash.geom.Vector3D)"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">getRayToTriangleIntersection</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code> public function getRayToTriangleIntersection(p0:Vector3D, p1:Vector3D, v0:Vector3D, v1:Vector3D, v2:Vector3D, outVector3D:Vector3D = null):Vector3D</code><p></p><p></p><p>
		Returns a Vector3D where the ray intersects a plane inside a triangle
		Returns null if no hit is found.
				param		p0			Vector3D. 		The origin of the ray.
		param		p1			Vector3D. 		The end of the ray.
		param		v0			Vector3D. 		The first scenespace vertex of the face.
		param		v1			Vector3D.		The second scenespace vertex of the face.
		param		v2			Vector3D.		The third scenespace vertex of the face.
		param		outVector3D	Vector3D.		Optional user defined Vector3D returned with result values
				example: fire a ray from camera position to 0,0,0 and test if it hits the triangle.
		
			view.camera.x = 100;
			view.camera.y = 100;
			view.camera.z = 500;
			
			var v0:Vector3D = new Vector3D(-200, 100, 60);
			var v1:Vector3D = new Vector3D(200, 100, 60);
			var v2:Vector3D = new Vector3D(0, -200, 60);
			 
			var dest: Vector3D = new Vector3D(0, 0, 0);
			
			var intersect:Vector3D = _ray.getRayToTriangleIntersection(_view.camera.position, dest, v0, v1, v2 );
			trace("intersect ray: "+intersect);
				</p><p><span class="label"> Parameters </span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20px"></td><td><code><span class="label">p0</span>:Vector3D</code></td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">p1</span>:Vector3D</code></td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">v0</span>:Vector3D</code></td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">v1</span>:Vector3D</code></td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">v2</span>:Vector3D</code></td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">outVector3D</span>:Vector3D</code> (default = <code>null</code>)<code></code></td></tr></table></p><p></p><span class="label">Returns</span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20"></td><td><code>Vector3D</code> &mdash; Vector3D	The intersection point
		</td></tr></table></div><a name="intersectsSphere()"></a><a name="intersectsSphere(flash.geom.Vector3D,flash.geom.Vector3D,flash.geom.Vector3D,Number)"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">intersectsSphere</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code> public function intersectsSphere(pOrig:Vector3D, dir:Vector3D, sPos:Vector3D, radius:Number):Boolean</code><p></p><p></p><p>
		Checks if a ray intersects a sphere.
		param		pOrig			Vector3D. 	The origin vector of the ray.
		param		dir				Vector3D. The normalized direction vector of the ray.
		param		sPos			Vector3D. The position of the sphere.
		param		radius		Number. The radius of the sphere.
				</p><p><span class="label"> Parameters </span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20px"></td><td><code><span class="label">pOrig</span>:Vector3D</code></td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">dir</span>:Vector3D</code></td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">sPos</span>:Vector3D</code></td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">radius</span>:Number</code></td></tr></table></p><p></p><span class="label">Returns</span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20"></td><td><code>Boolean</code> &mdash; Boolean		If the ray intersects the sphere
		</td></tr></table></div><br/><br/><hr><br/><p></p><center class="copyright"><footer></footer><br/>Tue Jul 17 2012, 10:37 AM +01:00  </center></div></body></html><!--<br/>Tue Jul 17 2012, 10:37 AM +01:00  -->